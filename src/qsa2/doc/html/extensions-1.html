<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- extensions/chap-inputdialog.leaf:4 -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>QSA Input Dialog Framework</title>
<style type="text/css"><!--
h3.fn,span.fn { margin-left: 1cm; text-indent: -1cm; }
a:link { color: #004faf; text-decoration: none }
a:visited { color: #672967; text-decoration: none }
body { background: #ffffff; color: black; }
--></style>
</head>
<body>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr bgcolor="black"><td>
|<a href="index.html"><font color="white">Home</font></a>
<font color="white">|</font>
<a href="qsa.html">
<font color="white">Tutorial</font></a>
<font color="white">|</font>
<a href="classes.html"><font color="white">Classes</font></a>
<font color="white">|</font>
<a href="functions.html"><font color="white">Functions</font></a>
<font color="white">|</font>
<a href="qtscripter.html"><font color="white">QSA&nbsp;Workbench</font></a>
<font color="white">|</font>
<a href="language.html"><font color="white">Language</font></a>
<font color="white">|</font>
<a href="http://doc.trolltech.com"><font color="white">Qt&nbsp;API</font></a>
<font color="white">|</font>
<a href="articles.html"><font color="white">QSA&nbsp;Articles</font></a>
</td>
<td align="right"><a href="index.html"><font
color="white"><i>Qt&nbsp;Script for Applications</i></font></a></td>
<td align="right" valign="center"><img src="logo32.png" align="right" width="64" height="32" border="0"></td></tr></table><p align="right">[<a href="extensions.html">Home</a>] [<a href="extensions-2.html">Next: QSA Utility Framework</a>]</p>
<h2 align="center">QSA Input Dialog Framework</h2>
<p>The QSA Input Dialog Framework is a set of classes that extends QSA to enable the user to create dialogs using Qt Script. The Input Dialog Framework is available in the <a href="qsobjectfactory.html">QSObjectFactory</a> subclass <a href="qsinputdialogfactory.html">QSInputDialogFactory</a>.</p>
<p>The QSA Input Dialog Framework provides two types of classes. The first types are the ones that can be used to build up complex input dialogs. These classes include, Dialog, CheckBox, GroupBox, LineEdit, TextEdit, etc. These classes each have a set of properties for describing how they appear and some of them also provide functions.</p>
<p>The following is a simple example on how to use the Input Dialog Framework to create a dialog that will query the user for their first and last name, and echo the values they entered:</p>
<pre>
var dialog = new Dialog;
dialog.caption = "Name reading dialog";
dialog.okButtonText = "Done"
dialog.cancelButtonText = "Abort";

var first = new LineEdit;
first.label = "First name: ";
dialog.add( first );

var last = new LineEdit;
last.label = "Last name: ";
dialog.add( last );

if( dialog.exec() ) {
    var fullName = last.text + ", " + first.text;
    print( "Full name is: " + fullName );
}
</pre>
<p>Below is a list of the classes available from the Input Dialog Framework. Each class has a short description and a list of its properties and functions.</p>
<p>For String properties the default is an empty string, and for Number properties the default is 0, unless stated otherwise.</p>
<h3><a name="1"></a>CheckBox</h3>
<p align="center"><img align="middle" src="qchkbox-w.png" width="96" height="91">
</p>
<p>The CheckBox widget provides a checkbox with a text label. CheckBox is an option button; it can be switched on (checked) or off (unchecked).</p>
<h4><a name="1-1"></a>Properties</h4>
<ul><li><p>checked : Boolean; This property holds whether the checkbox is checked. The default is unchecked, i.e. false.</p>
<li><p>text : String; This property holds the text shown on the button.</p>
<li><p>tooltip : String; This property holds the tool tip (balloon help) for the widget.</p>
<li><p>whatsThis : String; This property holds a simple description of the widget.</p>
</ul><h3><a name="2"></a>ComboBox</h3>
<p align="center"><img align="middle" src="qcombo1-w.png" width="116" height="41">
</p>
<p>The ComboBox widget is a combined button and drop-down list. A combobox is a selection widget which displays the current item and can drop down a list of items. A combobox may be editable in which case the user can enter arbitrary strings.</p>
<h4><a name="2-1"></a>Properties</h4>
<ul><li><p>currentItem : String; This property is used in two ways: To specify the default selected item in the combobox; and to get the value the user selected in the combobox when the dialog is closed. The default is the first item in the list.</p>
<li><p>editable : Boolean; This property holds whether the combobox is editable. The default is false.</p>
<li><p>itemList : Array; The list of items in the combobox.</p>
<li><p>label : String; The label for the combobox.</p>
<li><p>tooltip : String; This property holds the tool tip (balloon help) for the widget.</p>
<li><p>whatsThis : String; This property holds a simple description of the widget.</p>
</ul><h3><a name="3"></a>DateEdit</h3>
<p align="center"><img align="middle" src="qsdateed.png" width="107" height="27">
</p>
<p>The DateEdit class provides a date editor. DateEdit allows the user to edit dates by using the keyboard or the arrow keys to increase/decrease date values. The arrow keys can be used to move from section to section within the DateEdit box. Dates appear in accordance with the local date/time settings or in year, month, day order if the system doesn't provide a local date order.</p>
<h4><a name="3-1"></a>Properties</h4>
<ul><li><p>date : Date; This property holds the editor's date value. The default is today.</p>
<li><p>label : String; The label for the date.</p>
<li><p>maximum : Date; This property holds the editor's maximum value. The default maximum date is 8000-12-31.</p>
<li><p>minimum : Date; This property holds the editor's minimum value. The default minimum date is 1752-09-14.</p>
<li><p>order : Order; This property holds the order in which the year, month and day appear. The default order is locale dependent.</p>
<li><p>tooltip : String; This property holds the tool tip (balloon help) for the widget.</p>
<li><p>whatsThis : String; This property holds a simple description of the widget.</p>
</ul><h3><a name="4"></a>Dialog</h3>
<p>The Dialog class is the base class of dialog windows. A dialog window is a top-level window mostly used for short-term tasks and brief communications with the user. Dialogs may be modal or modeless.</p>
<h4><a name="4-1"></a>Properties</h4>
<ul><li><p>caption : String; This property holds the window caption (title). The default is the application's name.</p>
<li><p>cancelButtonText : String; This property holds the text shown on the cancel button. The default is "Cancel".</p>
<li><p>okButtonText: String; This property holds the text shown on the ok button. The default is "Ok".</p>
<li><p>width : Number; This property holds the width of the widget excluding any window frame. The default is set by the layout.</p>
<li><p>tooltip : String; This property holds the tool tip (balloon help) for the widget.</p>
<li><p>whatsThis : String; This property holds a simple description of the widget.</p>
</ul><h4><a name="4-2"></a>Functions</h4>
<ul><li><p>add( widget : QSWidget ); Adds a widget to the dialog. Widgets are placed vertically, from top to bottom.</p>
<li><p>addSpace( space : Number ); Adds vertical space, measured in pixels between, the previous and next added widget.</p>
<li><p>exec() : Boolean; Executes the dialog. This opens the dialog as a modal dialog, blocking the application until the user presses the OK button or the Cancel button to close the dialog. The function returns <tt>true</tt> of the user pressed OK; otherwise it returns <tt>false</tt>.</p>
<li><p>newColumn(); Creates a new column in the dialog. All widgets subsequently added to the dialog will be placed (vertically, from top to bottom), in the new column.</p>
<li><p>newTab( label : String ); Creates a new tab in the dialog with the given label. All widgets subsequently added to the dialog will be placed in the newly created tab, (vertically, from top to bottom).</p>
</ul><h3><a name="5"></a>GroupBox</h3>
<p align="center"><img align="middle" src="qgrpbox-w.png" width="166" height="116">
</p>
<p>The GroupBox widget provides a group box frame with a title and can displays other widgets inside itself.</p>
<h4><a name="5-1"></a>Properties</h4>
<ul><li><p>title : String; This property holds the group box's title text.</p>
<li><p>tooltip : String; This property holds the tool tip (balloon help) for the widget.</p>
<li><p>whatsThis : String; This property holds a simple description of the widget.</p>
</ul><h4><a name="5-2"></a>Functions</h4>
<ul><li><p>add( widget : QSWidget ); Adds a widget to this groupbox.</p>
<li><p>addSpace( space : Number ); Adds vertical space, measured in pixels, between the previous and the next widget that is added.</p>
<li><p>newColumn(); Creates a new column within this groupbox. All widgets that are added subsequently will be placed in the new column.</p>
<li><p>addSpace()</p>
</ul><h3><a name="6"></a>LineEdit</h3>
<p align="center"><img align="middle" src="qlined-w.png" width="216" height="46">
</p>
<p>The QLineEdit widget is a single-line text editor.</p>
<h4><a name="6-1"></a>Properties</h4>
<ul><li><p>label : String; The label text for this line edit.</p>
<li><p>text : String; This property holds the line edit's text.</p>
<li><p>tooltip : String; This property holds the tool tip (balloon help) for the widget.</p>
<li><p>whatsThis : String; This property holds a simple description of the widget.</p>
</ul><h3><a name="7"></a>NumberEdit</h3>
<p>The NumberEdit class provides range checking of floating-point numbers. NumberEdit provides an upper bound, a lower bound and a limit on the number of digits after the decimal point.</p>
<h4><a name="7-1"></a>Properties</h4>
<ul><li><p>decimals : Number; This property holds the number edits's maximum number of digits after the decimal point.</p>
<li><p>label : String; The label text for this number edit.</p>
<li><p>maximum : Number; This property holds the number edit's maximum acceptable value. The default is 2,147,483,647.</p>
<li><p>minimum : Number; This property holds the number edit's minimum acceptable value. The default is -2,147,483,647.</p>
<li><p>value : Number; This property holds the number edit's input value. The default is 0.</p>
<li><p>tooltip : String; This property holds the tool tip (balloon help) for the widget.</p>
<li><p>whatsThis : String; This property holds a simple description of the widget.</p>
</ul><h3><a name="8"></a>RadioButton</h3>
<p align="center"><img align="middle" src="qradiobt-w.png" width="96" height="91">
</p>
<p>The RadioButton widget provides a radio button with a text label. RadioButton is an option button; it can be switched on (checked) or off (unchecked). Sets of Radio buttons grouped together (for example in a GroupBox), are mutually exclusive.</p>
<h4><a name="8-1"></a>Properties</h4>
<ul><li><p>checked : Boolean; This property holds whether the radio button is checked. The default is unchecked (false).</p>
<li><p>text : String; This property holds the text shown on the button.</p>
<li><p>tooltip : String; This property holds the tool tip (balloon help) for the widget.</p>
<li><p>whatsThis : String; This property holds a simple description of the widget.</p>
</ul><h3><a name="9"></a>SpinBox</h3>
<p align="center"><img align="middle" src="qspinbox-w.png" width="72" height="39">
</p>
<p>The SpinBox class provides a spin box widget (spin button). SpinBox allows the user to choose an integer value either by clicking the up/down buttons to increase/decrease the value currently displayed or by typing the value directly into the spin box. If the value is entered directly into the spin box, Enter (or Return) must be pressed to apply the new value.</p>
<h4><a name="9-1"></a>Properties</h4>
<ul><li><p>label : String; This property holds the spinbox's label text.</p>
<li><p>maximum : Number; This property holds the maximum value of the spin box. The default maximum value is 2,147,483,647.</p>
<li><p>minimum : Number; This property holds the minimum value of the spin box. The default minimum value is -2,147,483,648.</p>
<li><p>value : Number; This property holds the value of the spin box.</p>
<li><p>tooltip : String; This property holds the tool tip (balloon help) for the widget.</p>
<li><p>whatsThis : String; This property holds a simple description of the widget.</p>
</ul><h3><a name="10"></a>TextEdit</h3>
<p>The QTextEdit widget provides a multi-line text editor.</p>
<h4><a name="10-1"></a>Properties</h4>
<ul><li><p>text : String; This property holds the text of the TextEdit.</p>
<li><p>tooltip : String; This property holds the tool tip (balloon help) for the widget.</p>
<li><p>whatsThis : String; This property holds a simple description of the widget.</p>
</ul><h3><a name="11"></a>TimeEdit</h3>
<p align="center"><img align="middle" src="qstimeed.png" width="107" height="27">
</p>
<p>The TimeEdit class provides a time editor. TimeEdit allows the user to edit times by using the keyboard or the arrow keys to increase/decrease time values. The arrow keys can be used to move from section to section within the TimeEdit box.</p>
<h4><a name="11-1"></a>Properties</h4>
<ul><li><p>label : String; This property holds the time edit's label text.</p>
<li><p>maximum : Time; This property holds the maximum time value.</p>
<li><p>minimum : Time; This property holds the minimum time value.</p>
<li><p>showAMPM : Boolean; If this property is false (the default), the time edit uses the 24 hour clock; otherwise the time edit uses the 12 hour clock and displays AM or PM as appropriate.</p>
<li><p>showSeconds : Boolean; If this property is true (the default), the time edit displays seconds; otherwise it does not display seconds.</p>
<li><p>time : Time; This property holds the editor's time value.</p>
<li><p>tooltip : String; This property holds the tool tip (balloon help) for the widget.</p>
<li><p>whatsThis : String; This property holds a simple description of the widget.</p>
</ul><h3><a name="12"></a>Convenience Classes</h3>
<p>The convenience classes provide static functions to obtain a value from the user without using any complex widget hierarchies. Because the functions are static they can be called directly without the need to create an instance of the class. For example, to get a filename all that is necessary is to call <tt>FileDialog.getOpenFileName()</tt>.</p>
<h3><a name="13"></a>The MessageBox class</h3>
<p align="center"><img align="middle" src="messageb1.png" width="203" height="121">
</p>
<p>This class provides a simple way of popping up a message box window for the user. The following lines of code present a pop up messagebox with a warning and query the user to click Yes or No.</p>
<pre>
var ans = MessageBox.warning( "Do you wish to save the data?", MessageBox.Yes, MessageBox.No );
if (ans == MessageBox.Yes) {
    save();
}
</pre>
<h4><a name="13-1"></a>Button types</h4>
<p>The button types are used to describe what the text of the buttons should be. The following are available.</p>
<ul><li><p>NoButton; No button is displayed.</p>
<li><p>Ok; Displays an 'OK' button.</p>
<li><p>Cancel; Displays a 'Cancel' button.</p>
<li><p>Yes; Displays a 'Yes' button.</p>
<li><p>No; Displays a 'No' button.</p>
<li><p>Abort; Displays an 'Abort' button.</p>
<li><p>Retry; Displays a 'Retry' button.</p>
<li><p>Ignore; Displays an 'Ignore' button.</p>
</ul><h4><a name="13-2"></a>Functions</h4>
<p>The following is a list of message box functions. The button1, button2 and button3 parameters can be any of the Button types described above and specify which button types will be shown in the message box. Each function returns the button type that the user pressed.</p>
<ul><li><p>information( label : String, button1 : ButtonType, button2 : ButtonType, button3 : ButtonType, title : String ); Displays an information message box with the content specified in <tt>label</tt>.</p>
<li><p>warning( label : String, button1 : ButtonType, button2 : ButtonType, button3 : ButtonType, title : String ); Displays a warning message box with the content specified in <tt>label</tt>.</p>
<li><p>critical( label : String, button1 : ButtonType, button2 : ButtonType, button3 : ButtonType, title : String ) Displays a critical error message box with the content specified in <tt>label</tt>.</p>
</ul><h3><a name="14"></a>The FileDialog class</h3>
<p align="center"><img align="middle" src="filedialog.png" width="498" height="341">
</p>
<p>This class provides dialogs that allow users to select files or directories. The following function call will open a file dialog with that will display files with the extension <tt>.txt</tt>.</p>
<pre>
var filename = FileDialog.getOpenFileName( "*.txt" );
if (filename) {
    processfile(filename);
}
</pre>
<h4><a name="14-1"></a>Functions</h4>
<ul><li><p>getOpenFileName( filter : String, title : String ); Opens an "Open" dialog. If <tt>filter</tt> is specified (e.g. "textfiles (*.txt)"), only those files which match the filter are shown. The function returns a string with the selected filename, or <tt>undefined</tt> if the user canceled.</p>
<li><p>getSaveFileName( filter : String, title : String ); Opens an "Save As" dialog. If <tt>filter</tt> is specified (e.g. "textfiles (*.txt)"), only those files which match the filter are shown. The function returns a string with the filename selected or entered, or <tt>undefined</tt> if the user canceled.</p>
<li><p>getExistingDirectory( dir : String, title : String ); Opens a "Find Directory" dialog for the user to select an existing directory. The parameter <tt>dir</tt> can be used to specify the initial directory. Returns the name of the selected directory or <tt>undefined</tt> if the user canceled.</p>
<li><p>getOpenFileNames( dir : String, filter : String, title : String ); Opens an "Open" dialog for the user to select and open one or more existing files. If <tt>dir</tt> is specified it specifies the initial directory. If <tt>filter</tt> is specified (e.g. "textfiles (*.txt)"), only those files which match the filter are shown. The function returns a list of string string with the selected filenames, or <tt>undefined</tt> if the user canceled.</p>
</ul><h3><a name="15"></a>The Input class</h3>
<p align="center"><img align="middle" src="inputtext.png" width="408" height="131">
</p>
<p align="center"><img align="middle" src="inputitem.png" width="408" height="131">
</p>
<p>This class provides convenience functions for getting simple input from the user. The following code can be used to open a dialog that queries the user for a text:</p>
<pre>
var name = Input.getText( "What is your surname? " );
if (name) {
    processname(name);
}
</pre>
<h4><a name="15-1"></a>Functions</h4>
<ul><li><p>getText( label : String, text : String, title : String ); Asks the user for a text. <tt>label</tt> specifies the descriptive label and <tt>text</tt> specifies the default text. The function returns the text entred by the user or <tt>undefined</tt> if the user canceled.</p>
<li><p>getNumber( label : String, value : Number, decimals : Number, minValue : Number, maxValue : Number, title : String ); Asks the user for a number. <tt>label</tt> specifies the descriptive label, <tt>value</tt> specifies the default value, <tt>decimals</tt> specifies the number of decimals allowed, <tt>minValue</tt> specifies the minimum value and <tt>maxValue</tt> specifies the maximum value. The function returns the value entered by the user or <tt>undefined</tt> if the user canceled.</p>
<li><p>getItem( label : String, itemList : Array, current : String, editable : Boolean, title : String ); Asks the user to select an item from a predefined list of values specified by <tt>itemList</tt>. The descriptive label is specified with <tt>label</tt>. <tt>current</tt> specifies the value that is selected when the dialog starts. If <tt>editable</tt> is true, the user is allowed to enter a value that is not in the <tt>itemList</tt>. The function returns the value selected or entered by the user or <tt>undefined</tt> if the user canceled.</p>
</ul><!-- eof -->
<p align="right">[<a href="extensions.html">Home</a>] [<a href="extensions-2.html">Next: QSA Utility Framework</a>]</p>
<p><address><hr><div align=center>
<table width=100% cellspacing=0 border=0><tr>
<td>Copyright &copy; 2001-2006 Trolltech<td><a href="http://www.trolltech.com/trademarks.html">Trademarks</a>
<td align=right><div align=right>QSA version 1.1.5</div>
</table></div></address></body>
</html>
